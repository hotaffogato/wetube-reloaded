extends base.pug
include mixins/comments

block content
    if(errorMessage)
        h2 #{errorMessage}

    div#videoContainer(data-id=video._id)
        video(src="/"+video.fileUrl)
        div#videoControls.videoControls
            span#play
                i.fas.fa-paly
            div#timeline
                span#currentTime 00:00
                span  / 
                span#totalTime 00:00
            div
                input(type="range", step="1", value="0", min="0")#timelinebar
            span#mute
                i.fas.fa-volumen-up
            input(type="range",step="0.1", value="0.5", min="0", max="1")#volumen
            div
                span#fullScreen
                    i.fas.fa-expand
    div.video__info
        span
            img(src="/"+video.owner.avatarUrl)
            small  #{video.owner.username}
        span
            small #{video.createdAt}
            p=video.description
            //- p=video.hashtags
            if String(video.owner._id) === String(loggedInUser._id)
                i.fas.fa-edit(href=`${video._id}/edit`)
                i.fas.fa-trash(href=`${video._id}/delete`)
    
    
    //- 댓글 구간
    .video__comments    
        form.video__comments-form#commentForm
            textarea(placeholder="Leave a comment here!")
            button Comment
        .video__commented
            if comments
                each comment in comments.reverse()
                    +comments(comment) 

block scripts 
    script(src="/static/js/videoPlayer.js")
    if(loggedIn)
        script(src="/static/js/comment.js")